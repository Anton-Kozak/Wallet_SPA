<div class="container background">
    <div class="border-primary">
        <form [formGroup]="newExpenseForm">
            <div class="form-group">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" [ngClass]="{'bg-danger text-light': newExpenseForm.get('category').errors && newExpenseForm.get('category').touched,
                        'bg-success text-white': !newExpenseForm.get('category').errors}">{{'Expenses.Category' | translate}}</span>
                    </div>
                    <select [ngClass]="{'is-invalid': newExpenseForm.get('category').errors && newExpenseForm.get('category').touched,
                                    'is-valid': !newExpenseForm.get('category').errors}" formControlName="category" class="form-control input-data">
                        <option *ngFor="let category of categoryTitles" [value]=category.id>{{'ExpenseCategory.' + category.title | translate}}</option>
                    </select>

                    <div *ngIf="newExpenseForm.get('category').hasError('required') && newExpenseForm.get('category').touched" class="invalid-feedback">
                        {{'Validation.CategoryReq' | translate}}
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" [ngClass]="{'bg-danger text-light': newExpenseForm.get('title').errors && newExpenseForm.get('title').touched,
                        'bg-success text-white': !newExpenseForm.get('title').errors}">{{'Expenses.Title' | translate}}</span>
                    </div>
                    <input [ngClass]="{'is-invalid': newExpenseForm.get('title').errors && newExpenseForm.get('title').touched,
                                    'is-valid': !newExpenseForm.get('title').errors}" type="text" formControlName="title" class="form-control input-data">

                    <div *ngIf="newExpenseForm.get('title').hasError('required') && newExpenseForm.get('title').touched" class="invalid-feedback">
                        {{'Validation.TitleRe' | translate}}
                    </div>
                    <div *ngIf="newExpenseForm.get('title').hasError('minlength') && newExpenseForm.get('title').touched" class="invalid-feedback">
                        {{'Validation.TitleMin' | translate}}
                    </div>
                    <div *ngIf="newExpenseForm.get('title').hasError('maxlength') && newExpenseForm.get('title').touched" class="invalid-feedback">
                        {{'Validation.TitleMax' | translate}}
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" [ngClass]="{'bg-danger text-light': newExpenseForm.get('desc').errors && newExpenseForm.get('desc').touched,
                        'bg-success text-white': !newExpenseForm.get('desc').errors}">{{'Expenses.Details' | translate}}</span>
                    </div>
                    <textarea [ngClass]="{'is-invalid': newExpenseForm.get('desc').errors && newExpenseForm.get('desc').touched,
                                    'is-valid': !newExpenseForm.get('desc').errors}" formControlName="desc" class="form-control input-data"></textarea>

                    <div *ngIf="newExpenseForm.get('desc').hasError('minlength') && newExpenseForm.get('desc').touched" class="invalid-feedback">
                        {{'Validation.DescMin' | translate}}
                    </div>
                    <div *ngIf="newExpenseForm.get('desc').hasError('maxlength') && newExpenseForm.get('desc').touched" class="invalid-feedback">
                        {{'Validation.DescMax' | translate}}
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" [ngClass]="{'bg-danger text-light': newExpenseForm.get('money').errors && newExpenseForm.get('money').touched,
                        'bg-success text-white': !newExpenseForm.get('money').errors}">
                        <!-- {{'Expenses.Cost' | translate}} -->
                        <i style="font-size: 1.3rem;" class="fas fa-money-bill-alt"></i>
                    </span>
                    </div>
                    <input [ngClass]="{'is-invalid': newExpenseForm.get('money').errors && newExpenseForm.get('money').touched,
                                    'is-valid': !newExpenseForm.get('money').errors}" type="number" formControlName="money" class="form-control input-data">

                    <div *ngIf="newExpenseForm.get('money').hasError('required') && newExpenseForm.get('money').touched" class="invalid-feedback">
                        {{'Validation.MoneyReq' | translate}}
                    </div>
                </div>
            </div>
            <div class="form-group">
                <button (click)="addExpenseButtonClick$.next()" class="btn btn-outline-secondary btn-block" [disabled]="!newExpenseForm.valid || isLoading" [ngClass]="{'btn-outline-success': newExpenseForm.valid, 'btn-loading' : isLoading}"><span [ngClass]="{'button-text': isLoading}">{{'Expenses.CreateExpense' | translate}}</span></button>
            </div>
        </form>
        <button class="btn btn-warning btn-block" (click)="back()">{{'Profile.Back' | translate}}</button>
    </div>
</div>
<div class="container">
    <form [formGroup]="walletForm" (ngSubmit)="createWallet()">
        <div class="form-group">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" [ngClass]="{'bg-danger text-light': walletForm.get('title').errors && walletForm.get('title').touched,
                        'bg-success text-white': !walletForm.get('title').errors}">Wallet Title</span>
                </div>
                <input [ngClass]="{'is-invalid': walletForm.get('title').errors && walletForm.get('title').touched,
                                    'is-valid': !walletForm.get('title').errors}" type="text" formControlName="title"
                    class="form-control">

                <div *ngIf="walletForm.get('title').hasError('required') && walletForm.get('title').touched"
                    class="invalid-feedback">
                    Title is required
                </div>
                <div *ngIf="walletForm.get('title').hasError('minlength') && walletForm.get('title').touched"
                    class="invalid-feedback">
                    Title should be at least 4 characters required
                </div>
                <div *ngIf="walletForm.get('title').hasError('maxlength') && walletForm.get('title').touched"
                    class="invalid-feedback">
                    Title should be no longer than 16 characters
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" [ngClass]="{'bg-danger text-light': walletForm.get('limit').errors && walletForm.get('limit').touched,
                        'bg-success text-white': !walletForm.get('limit').errors}">Limit</span>
                </div>
                <input [ngClass]="{'is-invalid': walletForm.get('limit').errors && walletForm.get('limit').touched,
                                    'is-valid': !walletForm.get('limit').errors}" type="number" formControlName="limit"
                    class="form-control">
                    <div class="input-group-append">
                        <span class="input-group-text" [ngClass]="{'bg-danger text-light': walletForm.get('limit').errors,
                        'bg-success text-white': !walletForm.get('limit').errors}">$</span>
                    </div>
                <div *ngIf="walletForm.get('limit').hasError('min') && walletForm.get('limit').touched"
                    class="invalid-feedback">
                    Limit should be 0 or at least $10
                </div>
            </div>
        </div>

        <div class="form-group">
            <button class="btn btn-outline-secondary btn-block" [disabled]="(walletForm.invalid || finalCategories.length < 5)"
                [ngClass]="{'btn-outline-success': walletForm.valid && finalCategories.length >= 5}">Create wallet</button>
        </div>
    </form>
    <div class="form-group">
        <button (click)="back()" class="btn btn-outline-warning">Back</button>
    </div>
</div>

<div class="container">
    <div class="row">
      <!-- <button class="btn btn-danger btn-block" (click)="chooseCategories()">Choose categories</button> -->
      <button [disabled]="dragHistory.length <= 0" class="btn btn-primary btn-block" (click)="clearCategories()">Clear categories</button>
    </div>
  </div>
  
  <div class="example-container">
    <h2>Advisable</h2>
  
    <div
      cdkDropList
      id="advisable"
      #advisableList="cdkDropList"
      [cdkDropListData]="advisable"
      [cdkDropListConnectedTo]="[finalCategoriesList]"
      class="example-list"
      (cdkDropListDropped)="drop($event)">
      <div class="example-box" *ngFor="let item of advisable" cdkDrag>{{item}}</div>
    </div>
  </div>
  
  <div class="example-container">
    <h2>Food</h2>
  
    <div
      cdkDropList
      id="food"
      #foodList="cdkDropList"
      [cdkDropListData]="food"
      [cdkDropListConnectedTo]="[finalCategoriesList]"
      class="example-list"
      (cdkDropListDropped)="drop($event)">
      <div class="example-box" *ngFor="let item of food" cdkDrag>{{item}}</div>
    </div>
  </div>
  
  <div class="example-container">
    <h2>Clothes</h2>
    <div
      cdkDropList
      id="clothes"
      #clothesList="cdkDropList"
      [cdkDropListData]="clothes"
      [cdkDropListConnectedTo]="[finalCategoriesList]"
      class="example-list"
      (cdkDropListDropped)="drop($event)">
      <div class="example-box" *ngFor="let item of clothes" cdkDrag>{{item}}</div>
    </div>
  </div>
  
  <div class="example-container">
    <h2>Entertainment</h2>
    <div
      cdkDropList
      id="ent"
      #entList="cdkDropList"
      [cdkDropListData]="entertainment"
      [cdkDropListConnectedTo]="[finalCategoriesList]"
      class="example-list"
      (cdkDropListDropped)="drop($event)">
      <div class="example-box" *ngFor="let item of entertainment" cdkDrag>{{item}}</div>
    </div>
  </div>
  
  <div class="example-container">
    <h2>Done</h2>
  
    <div
      cdkDropList
      #finalCategoriesList="cdkDropList"
      [cdkDropListData]="finalCategories"
      
      class="example-list"
      (cdkDropListDropped)="drop($event)">
      <div class="example-box" *ngFor="let item of finalCategories" cdkDrag>{{item}}</div>
    </div>
  </div>
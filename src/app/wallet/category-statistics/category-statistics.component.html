<div class="row">
    <div class="col-12">
        <div class="card card-test">
            <div class="image">
                <div style="width: 100%; height: 100%; background-color: #cafcdf;"></div>
            </div>
            <div class="card-header">
                <h4 class="card-title text-center">{{chosenCategoryName}} expenses</h4>
            </div>
        </div>
    </div>
</div>
<div *ngIf="isLoading">
    <div class="loader">
        <div class="face">
            <div class="circle"></div>
        </div>
        <div class="face">
            <div class="circle"></div>
        </div>
    </div>
</div>
<div *ngIf="showData && !isLoading">
    <div class="row">
        <div class="col-md-12 col-lg-5 col-xl-4">
            <div class="row">
                <div class="col-xl-6">
                    <div class="card card-stats">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-5 col-md-4">
                                    <div class="icon-big text-center icon-primary">
                                        <i class="nc-icon nc-circle-10 text-primary"></i>
                                    </div>
                                </div>
                                <div class="col-7 col-md-8">
                                    <div class="numbers">
                                        <p class="card-category mb-2">Most used user</p>
                                        <div *ngIf="mostSpentUser != null">
                                            <p class="card-title">{{mostSpentUser.userName}}
                                            </p>
                                        </div>
                                        <div *ngIf="mostSpentUser === null">
                                            <p class="card-title">---</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer ">
                            <hr>
                            <div class="stats">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-6">
                    <div class="card card-stats">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-5 col-md-4">
                                    <div class="icon-big text-center icon-success">
                                        <i class="nc-icon nc-circle-10 text-success"></i>
                                    </div>
                                </div>
                                <div class="col-7 col-md-8">
                                    <div class="numbers">
                                        <p class="card-category mb-2">Most used user</p>
                                        <div *ngIf="mostUsedUser != null">
                                            <p class="card-title">{{mostUsedUser.userName}} </p>
                                        </div>
                                        <div *ngIf="mostUsedUser === null">
                                            <p class="card-title">---</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer ">
                                <hr>
                                <div class="stats">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xl-6">
                    <div class="card card-stats">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-5 col-md-4">
                                    <div class="icon-big text-center icon-success">
                                        <i class="nc-icon nc-money-coins text-primary"></i>
                                    </div>
                                </div>
                                <div class="col-7 col-md-8">
                                    <div class="numbers">
                                        <p class="card-category mb-2">Largest Expense</p>
                                        <p *ngIf="largestExpense > 0" class="card-title">${{largestExpense}}</p>
                                        <p *ngIf="largestExpense === 0" class="card-title">${{largestExpense}}</p>
                                        <p>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer ">
                            <hr>
                            <div class="stats">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-6">
                    <div class="card card-stats">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-5 col-md-4">
                                    <div class="icon-big text-center icon-success">
                                        <i class="nc-icon nc-money-coins text-success"></i>
                                    </div>
                                </div>
                                <div class="col-7 col-md-8">
                                    <div class="numbers">
                                        <p class="card-category mb-2">Month's largest expense</p>
                                        <p *ngIf="currentMonthLargestExpense > 0" class="card-title">
                                            ${{currentMonthLargestExpense}}</p>
                                        <p *ngIf="currentMonthLargestExpense === 0" class="card-title">
                                            ${{currentMonthLargestExpense}}</p>
                                        <p>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer ">
                            <hr>
                            <div class="stats">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="card-title">Top 5 users</h5>
                            <p class="card-category">Users with most expenses</p>
                        </div>
                        <div *ngIf="topFiveUsers" class="card-body ">
                            <app-pie-graph [topFiveUsers]="topFiveUsers"></app-pie-graph>
                        </div>
                        <div *ngIf="!topFiveUsers" class="card-body ">
                            ---
                        </div>
                        <div class="card-footer">
                            <hr>
                            <div class="stats">
                                <i class="fa fa-money"></i> Number expenses made
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="card " style="border-radius: 12px;">
                        <div class="card-header ">
                            <h5 class="card-title">Last 6 Months</h5>
                            <p class="card-category">Line Comparison</p>
                        </div>
                        <div *ngIf="lastSixMonths" class="card-body ">
                            <div>
                                <app-line-chart [lastSixMonths]="lastSixMonths"></app-line-chart>
                            </div>
                        </div>
                        <div *ngIf="!lastSixMonths" class="card-body ">
                            <div>
                                ---
                            </div>
                        </div>
                        <div class="card-footer ">
                            <hr>
                            <div class="stats">
                                <i class="fa fa-calendar"></i> Add text
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="card " style="border-radius: 12px;">
                        <div class="card-header ">
                            <h5 class="card-title">Expenses Comparison</h5>
                            <p class="card-category">Last And Current Months</p>
                        </div>
                        <div *ngIf="compareBarExpenses && chosenCategoryName" class="container">
                            <app-bar-category-comparison [currentMonthbar]="compareBarExpenses['currentMonthData']"
                                [lastMonthbar]="compareBarExpenses['lastMonthData']" [category]="chosenCategoryName">
                            </app-bar-category-comparison>
                        </div>
                        <div *ngIf="!compareBarExpenses">
                            ---
                        </div>
                        <div class="card-footer ">
                            <hr>
                            <div class="stats">
                                <i class="fa fa-calendar"></i> Add text
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="expenses.data.length > 0" class="col-md-12 col-lg-7 col-xl-8">
            <div class="mat-elevation-z8" style="box-shadow: none;">
                <table style="width: 100%;" mat-table [dataSource]="expenses">
                    <ng-container matColumnDef="expenseName">
                        <th class="text-center" mat-header-cell *matHeaderCellDef> Expense </th>
                        <td mat-cell *matCellDef="let element"> {{element.expenseName}} </td>
                    </ng-container>
                    <ng-container matColumnDef="userName">
                        <th class="text-center" mat-header-cell *matHeaderCellDef> User </th>
                        <td mat-cell *matCellDef="let element"> {{element.userName}} </td>
                    </ng-container>
                    <ng-container matColumnDef="moneySpent">
                        <th class="text-center" mat-header-cell *matHeaderCellDef> $ </th>
                        <td mat-cell *matCellDef="let element"> {{element.moneySpent}} </td>
                    </ng-container>
                    <ng-container matColumnDef="expenseDescription">
                        <th class="text-center d-none d-lg-table-cell" mat-header-cell *matHeaderCellDef>
                            Description </th>
                        <td class="d-none d-lg-table-cell" mat-cell *matCellDef="let element">
                            {{element.expenseDescription}} </td>
                    </ng-container>
                    <ng-container matColumnDef="creationDate">
                        <th class="text-center" mat-header-cell *matHeaderCellDef> Date </th>
                        <td mat-cell *matCellDef="let element"> {{element.creationDate | date :'short'}}
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="columnsForExpenses"></tr>
                    <tr mat-row *matRowDef="let row; columns: columnsForExpenses;"></tr>
                </table>
                <mat-paginator #paginator [pageSizeOptions]="[10]" [hidePageSize]="true" showFirstLastButtons>
                </mat-paginator>
            </div>
        </div>
    </div>
</div>
<div *ngIf="!showData && !isLoading">
    <div class="row d-flex justify-content-center">
        <div class="col-lg-3 col-md-6 col-sm-6">
            <div class="card card-stats">
                <div class="card-body ">
                    <div class="row">
                        <div class="col-5 col-md-4">
                            <div class="icon-big text-center icon-warning">
                                <i class="fa fa-exclamation-triangle text-warning"></i>
                            </div>
                        </div>
                        <div class="col-7 col-md-8">
                            <div class="numbers">
                                <p class="card-category mb-2">{{chosenCategoryName}}</p>
                                <p class="card-title">No expenses</p>
                                <p>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer ">
                    <hr>
                    <div class="stats">
                        <i class="fa fa-refresh"></i>
                        Please, add expenses to see statistics
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>